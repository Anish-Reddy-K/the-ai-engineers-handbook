{{- /*
  Draft Placeholder Template
  Shows "coming soon" message for draft articles in production mode
  Uses same header structure as regular articles
*/ -}}

<article class="article-content">
  <header class="article-header">
    {{- /* Get all articles across all sections to calculate article number */ -}}
    {{- $allArticles := slice -}}
    {{- range site.Sections.ByWeight -}}
      {{- $pages := .RegularPages -}}
      {{- range $pages.ByWeight -}}
        {{- $allArticles = $allArticles | append . -}}
      {{- end -}}
    {{- end -}}
    {{- /* Find current article index */ -}}
    {{- $articleNumber := 0 -}}
    {{- range $index, $page := $allArticles -}}
      {{- if eq $page.RelPermalink $.RelPermalink -}}
        {{- $articleNumber = add $index 1 -}}
      {{- end -}}
    {{- end -}}
    {{- /* Format article number with leading zeros */ -}}
    {{- $formattedNumber := printf "%03d" $articleNumber -}}
    <p class="article-number">No. {{ $formattedNumber }}</p>
    <h1 class="article-title">{{ .Title }}</h1>
    <p class="article-meta">
      <span class="article-reading-time">XX min read</span><span class="article-meta-separator">|</span><span class="article-author">Anish Reddy</span>
    </p>
  </header>
  <div class="article-body">
    {{- $draftFile := "themes/the-arkr-manual/data/draft-placeholder.md" -}}
    {{- if fileExists $draftFile -}}
      {{- $draftContent := readFile $draftFile -}}
      {{- $draftContent | $.Page.RenderString -}}
    {{- else -}}
      <p>This article is coming soon...</p>
      <p>I'm working on this content and will publish it soon.</p>
    {{- end -}}
  </div>
</article>

